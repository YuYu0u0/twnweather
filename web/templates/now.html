{% load static %}
<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>台灣氣象預報網</title>
    <meta name="description" content="台灣氣象預報網，提供最新的天氣預報，包括現在天氣、一周預報和地震資訊。">
    <link rel="stylesheet" type="text/css" href="{% static 'weather/style.css' %}">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header__container">
            <div class="header__logo">
                <a class="header__logo-link" href="{% url 'index' %}">Logo</a>
            </div>
            <nav class="header__nav">
                <li class="nav-item"><a class="header__nav-link" href="{% url 'index' %}">首頁</a></li>
                <li class="nav-item"><a class="header__nav-link" href="#about">關於</a></li>
                <li class="nav-item"><a class="header__nav-link" href="#" id="services-link" role="button">服務</a>
                    <ul class="dropdown">
                        <li><a href="{% url 'current_weather' %}">現在天氣</a></li>
                        <li><a href="{% url 'weekly_report' %}">一周預報</a></li>
                        <li><a href="{% url 'recent_earthquake' %}">地震</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="header__nav-link" href="#member">用戶</a></li>
            </nav>
        </div>
    </header>
    <!-- Header End -->

    <!-- Sidebar -->
    <aside class="sidebar">
        <a class="sidebar__link" href="{% url 'index' %}">首頁</a>
        <a class="sidebar__link" href="{% url 'current_weather' %}">現在天氣</a>
        <a class="sidebar__link" href="{% url 'weekly_report' %}">一周預報</a>
        <a class="sidebar__link" href="{% url 'recent_earthquake' %}">地震</a>
    </aside>
    <!-- Sidebar End -->

    <!-- Main Content -->
    <main class="main-content">
        <form method="post" action="{% url 'current_weather' %}">
            <label for="city">請輸入縣市:</label>
            <select name="city" id="city">
                <option value="台北市" {% if city == '台北市' %}selected{% endif %}>台北市</option>
                <option value="新北市" {% if city == '新北市' %}selected{% endif %}>新北市</option>
                <option value="桃園市" {% if city == '桃園市' %}selected{% endif %}>桃園市</option>
                <option value="新竹縣" {% if city == '新竹縣' %}selected{% endif %}>新竹縣</option>
                <option value="新竹市" {% if city == '新竹市' %}selected{% endif %}>新竹市</option>
                <option value="苗栗縣" {% if city == '苗栗縣' %}selected{% endif %}>苗栗縣</option>
                <option value="台中市" {% if city == '台中市' %}selected{% endif %}>台中市</option>
                <option value="彰化縣" {% if city == '彰化縣' %}selected{% endif %}>彰化縣</option>
                <option value="雲林縣" {% if city == '雲林縣' %}selected{% endif %}>雲林縣</option>
                <option value="嘉義縣" {% if city == '嘉義縣' %}selected{% endif %}>嘉義縣</option>
                <option value="嘉義市" {% if city == '嘉義市' %}selected{% endif %}>嘉義市</option>
                <option value="台南市" {% if city == '台南市' %}selected{% endif %}>台南市</option>
                <option value="高雄市" {% if city == '高雄市' %}selected{% endif %}>高雄市</option>
                <option value="屏東縣" {% if city == '屏東縣' %}selected{% endif %}>屏東縣</option>
                <option value="基隆市" {% if city == '基隆市' %}selected{% endif %}>基隆市</option>
                <option value="南投縣" {% if city == '南投縣' %}selected{% endif %}>南投縣</option>
                <option value="宜蘭縣" {% if city == '宜蘭縣' %}selected{% endif %}>宜蘭縣</option>
                <option value="花蓮縣" {% if city == '花蓮縣' %}selected{% endif %}>花蓮縣</option>
                <option value="台東縣" {% if city == '台東縣' %}selected{% endif %}>台東縣</option>
                <option value="澎湖縣" {% if city == '澎湖縣' %}selected{% endif %}>澎湖縣</option>
                <option value="金門縣" {% if city == '金門縣' %}selected{% endif %}>金門縣</option>
                <option value="連江縣" {% if city == '連江縣' %}selected{% endif %}>連江縣</option>
            </select>
            <button type="submit">顯示選擇</button>
        </form>

        <div class="main-content__wrapper">
            {%if data == " "%}
            <h2>請選擇縣市</h2>
            {% elif data %}
            <h2>{{ city }}天氣狀況</h2>
            <table>
                <tr>
                    <th>鄉鎮市區</th>
                    <th>測站名稱</th>
                    <th>天氣狀況</th>
                    <th>溫度 (°C)</th>
                </tr>
                {% for weather_data in data %}
                <tr>
                    <td>{{ weather_data.town }}</td>
                    <td>{{ weather_data.station }}</td>
                    <td>{{ weather_data.weather }}</td>
                    <td>{{ weather_data.temperature }}</td>
                </tr>
                {% endfor %}
            </table>

            {% else %}
            <h2>沒有資料</h2>
            {% endif %}
        </div>
    </main>
    <!-- Main Content End -->

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 台灣氣象預報網. All Rights Reserved.</p>
    </footer>
    <!-- Footer End -->
    <script src="{% static 'weather/script.js' %}"></script>
</body>

</html>